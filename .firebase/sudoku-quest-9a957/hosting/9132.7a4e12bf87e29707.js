"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9132],{9132:(l,o,i)=>{i.r(o),i.d(o,{NativeAudioWeb:()=>u});var a=i(467),n=i(5083);class d{constructor(t){this.audio=t}}class u extends n.E_{resume(t){var e=this;return(0,a.A)(function*(){const s=e.getAudioAsset(t.assetId).audio;if(s.paused)return s.play()})()}pause(t){var e=this;return(0,a.A)(function*(){return e.getAudioAsset(t.assetId).audio.pause()})()}getCurrentTime(t){var e=this;return(0,a.A)(function*(){return{currentTime:e.getAudioAsset(t.assetId).audio.currentTime}})()}getDuration(t){var e=this;return(0,a.A)(function*(){const s=e.getAudioAsset(t.assetId).audio;if(Number.isNaN(s.duration))throw"no duration available";if(!Number.isFinite(s.duration))throw"duration not available => media resource is streaming";return{duration:s.duration}})()}configure(t){return(0,a.A)(function*(){throw`configure is not supported for web: ${JSON.stringify(t)}`})()}preload(t){return(0,a.A)(function*(){var e;if(u.AUDIO_ASSET_BY_ASSET_ID.has(t.assetId))throw"AssetId already exists. Unload first if like to change!";if(null===(e=t.assetPath)||void 0===e||!e.length)throw"no assetPath provided";if(!t.isUrl&&!new RegExp("^/?"+u.FILE_LOCATION).test(t.assetPath)){const r=t.assetPath.startsWith("/")?"":"/";t.assetPath=`${u.FILE_LOCATION}${r}${t.assetPath}`}const s=new Audio(t.assetPath);s.autoplay=!1,s.loop=!1,s.preload="auto",t.volume&&(s.volume=t.volume),u.AUDIO_ASSET_BY_ASSET_ID.set(t.assetId,new d(s))})()}play(t){var e=this;return(0,a.A)(function*(){var s;const r=e.getAudioAsset(t.assetId).audio;return yield e.stop(t),r.loop=!1,r.currentTime=null!==(s=t.time)&&void 0!==s?s:0,r.play()})()}loop(t){var e=this;return(0,a.A)(function*(){const s=e.getAudioAsset(t.assetId).audio;return yield e.stop(t),s.loop=!0,s.play()})()}stop(t){var e=this;return(0,a.A)(function*(){const s=e.getAudioAsset(t.assetId).audio;s.pause(),s.loop=!1,s.currentTime=0})()}unload(t){var e=this;return(0,a.A)(function*(){yield e.stop(t),u.AUDIO_ASSET_BY_ASSET_ID.delete(t.assetId)})()}setVolume(t){var e=this;return(0,a.A)(function*(){if("number"!=typeof(null==t?void 0:t.volume))throw"no volume provided";e.getAudioAsset(t.assetId).audio.volume=t.volume})()}isPlaying(t){var e=this;return(0,a.A)(function*(){return{isPlaying:!e.getAudioAsset(t.assetId).audio.paused}})()}getAudioAsset(t){if(this.checkAssetId(t),!u.AUDIO_ASSET_BY_ASSET_ID.has(t))throw`no asset for assetId "${t}" available. Call preload first!`;return u.AUDIO_ASSET_BY_ASSET_ID.get(t)}checkAssetId(t){if("string"!=typeof t)throw"assetId must be a string";if(null==t||!t.length)throw"no assetId provided"}}u.FILE_LOCATION="assets/sounds",u.AUDIO_ASSET_BY_ASSET_ID=new Map}}]);